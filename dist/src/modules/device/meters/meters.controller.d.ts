import { MetersService } from './meters.service';
import { CreateMeterDto, UpdateMeterDto, MeterQueryDto, ControlValveDto, LinkDeviceDto, UnlinkDeviceDto } from './dto/meter.dto';
import type { AuthenticatedUser } from '../../../common/interfaces';
export declare class MetersController {
    private readonly metersService;
    constructor(metersService: MetersService);
    create(dto: CreateMeterDto, user: AuthenticatedUser): Promise<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        address: import("@prisma/client/runtime/library").JsonValue;
        latitude: import("@prisma/client/runtime/library").Decimal | null;
        longitude: import("@prisma/client/runtime/library").Decimal | null;
        metadata: import("@prisma/client/runtime/library").JsonValue | null;
        tenantId: string;
        serialNumber: string;
        status: import("@prisma/client").$Enums.MeterStatus;
        addressCode: string | null;
        activeDeviceId: string | null;
        customerId: string;
        meterProfileId: string;
        initialIndex: import("@prisma/client/runtime/library").Decimal;
        installationDate: Date;
        valveStatus: import("@prisma/client").$Enums.ValveStatus;
        lastReadingValue: import("@prisma/client/runtime/library").Decimal | null;
        lastReadingTime: Date | null;
    }>;
    findAll(query: MeterQueryDto, user: AuthenticatedUser): Promise<import("../../../common/interfaces").PaginatedResult<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        address: import("@prisma/client/runtime/library").JsonValue;
        latitude: import("@prisma/client/runtime/library").Decimal | null;
        longitude: import("@prisma/client/runtime/library").Decimal | null;
        metadata: import("@prisma/client/runtime/library").JsonValue | null;
        tenantId: string;
        serialNumber: string;
        status: import("@prisma/client").$Enums.MeterStatus;
        addressCode: string | null;
        activeDeviceId: string | null;
        customerId: string;
        meterProfileId: string;
        initialIndex: import("@prisma/client/runtime/library").Decimal;
        installationDate: Date;
        valveStatus: import("@prisma/client").$Enums.ValveStatus;
        lastReadingValue: import("@prisma/client/runtime/library").Decimal | null;
        lastReadingTime: Date | null;
    }>>;
    findOne(id: string, user: AuthenticatedUser): Promise<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        address: import("@prisma/client/runtime/library").JsonValue;
        latitude: import("@prisma/client/runtime/library").Decimal | null;
        longitude: import("@prisma/client/runtime/library").Decimal | null;
        metadata: import("@prisma/client/runtime/library").JsonValue | null;
        tenantId: string;
        serialNumber: string;
        status: import("@prisma/client").$Enums.MeterStatus;
        addressCode: string | null;
        activeDeviceId: string | null;
        customerId: string;
        meterProfileId: string;
        initialIndex: import("@prisma/client/runtime/library").Decimal;
        installationDate: Date;
        valveStatus: import("@prisma/client").$Enums.ValveStatus;
        lastReadingValue: import("@prisma/client/runtime/library").Decimal | null;
        lastReadingTime: Date | null;
    }>;
    getReadingHistory(id: string, days: number, user: AuthenticatedUser): Promise<{
        bucket: Date;
        total_consumption: number;
        avg_consumption: number;
        reading_count: number;
    }[]>;
    update(id: string, dto: UpdateMeterDto, user: AuthenticatedUser): Promise<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        address: import("@prisma/client/runtime/library").JsonValue;
        latitude: import("@prisma/client/runtime/library").Decimal | null;
        longitude: import("@prisma/client/runtime/library").Decimal | null;
        metadata: import("@prisma/client/runtime/library").JsonValue | null;
        tenantId: string;
        serialNumber: string;
        status: import("@prisma/client").$Enums.MeterStatus;
        addressCode: string | null;
        activeDeviceId: string | null;
        customerId: string;
        meterProfileId: string;
        initialIndex: import("@prisma/client/runtime/library").Decimal;
        installationDate: Date;
        valveStatus: import("@prisma/client").$Enums.ValveStatus;
        lastReadingValue: import("@prisma/client/runtime/library").Decimal | null;
        lastReadingTime: Date | null;
    }>;
    patch(id: string, dto: UpdateMeterDto, user: AuthenticatedUser): Promise<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        address: import("@prisma/client/runtime/library").JsonValue;
        latitude: import("@prisma/client/runtime/library").Decimal | null;
        longitude: import("@prisma/client/runtime/library").Decimal | null;
        metadata: import("@prisma/client/runtime/library").JsonValue | null;
        tenantId: string;
        serialNumber: string;
        status: import("@prisma/client").$Enums.MeterStatus;
        addressCode: string | null;
        activeDeviceId: string | null;
        customerId: string;
        meterProfileId: string;
        initialIndex: import("@prisma/client/runtime/library").Decimal;
        installationDate: Date;
        valveStatus: import("@prisma/client").$Enums.ValveStatus;
        lastReadingValue: import("@prisma/client/runtime/library").Decimal | null;
        lastReadingTime: Date | null;
    }>;
    linkDevice(id: string, dto: LinkDeviceDto, user: AuthenticatedUser): Promise<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        address: import("@prisma/client/runtime/library").JsonValue;
        latitude: import("@prisma/client/runtime/library").Decimal | null;
        longitude: import("@prisma/client/runtime/library").Decimal | null;
        metadata: import("@prisma/client/runtime/library").JsonValue | null;
        tenantId: string;
        serialNumber: string;
        status: import("@prisma/client").$Enums.MeterStatus;
        addressCode: string | null;
        activeDeviceId: string | null;
        customerId: string;
        meterProfileId: string;
        initialIndex: import("@prisma/client/runtime/library").Decimal;
        installationDate: Date;
        valveStatus: import("@prisma/client").$Enums.ValveStatus;
        lastReadingValue: import("@prisma/client/runtime/library").Decimal | null;
        lastReadingTime: Date | null;
    }>;
    unlinkDevice(id: string, dto: UnlinkDeviceDto, user: AuthenticatedUser): Promise<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        address: import("@prisma/client/runtime/library").JsonValue;
        latitude: import("@prisma/client/runtime/library").Decimal | null;
        longitude: import("@prisma/client/runtime/library").Decimal | null;
        metadata: import("@prisma/client/runtime/library").JsonValue | null;
        tenantId: string;
        serialNumber: string;
        status: import("@prisma/client").$Enums.MeterStatus;
        addressCode: string | null;
        activeDeviceId: string | null;
        customerId: string;
        meterProfileId: string;
        initialIndex: import("@prisma/client/runtime/library").Decimal;
        installationDate: Date;
        valveStatus: import("@prisma/client").$Enums.ValveStatus;
        lastReadingValue: import("@prisma/client/runtime/library").Decimal | null;
        lastReadingTime: Date | null;
    }>;
    controlValve(id: string, dto: ControlValveDto, user: AuthenticatedUser): Promise<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        address: import("@prisma/client/runtime/library").JsonValue;
        latitude: import("@prisma/client/runtime/library").Decimal | null;
        longitude: import("@prisma/client/runtime/library").Decimal | null;
        metadata: import("@prisma/client/runtime/library").JsonValue | null;
        tenantId: string;
        serialNumber: string;
        status: import("@prisma/client").$Enums.MeterStatus;
        addressCode: string | null;
        activeDeviceId: string | null;
        customerId: string;
        meterProfileId: string;
        initialIndex: import("@prisma/client/runtime/library").Decimal;
        installationDate: Date;
        valveStatus: import("@prisma/client").$Enums.ValveStatus;
        lastReadingValue: import("@prisma/client/runtime/library").Decimal | null;
        lastReadingTime: Date | null;
    }>;
    delete(id: string, user: AuthenticatedUser): Promise<void>;
}
