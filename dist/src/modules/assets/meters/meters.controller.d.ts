import { MetersService } from './meters.service';
import { CreateMeterDto, UpdateMeterDto, MeterQueryDto, ControlValveDto, LinkDeviceDto, UnlinkDeviceDto, LinkSubscriptionDto, BulkImportMetersDto, ExportQueryDto } from './dto/meter.dto';
import type { AuthenticatedUser } from '../../../common/interfaces';
export declare class MetersController {
    private readonly metersService;
    constructor(metersService: MetersService);
    create(dto: CreateMeterDto, user: AuthenticatedUser): Promise<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        tenantId: string;
        meterProfileId: string;
        activeDeviceId: string | null;
        serialNumber: string;
        initialIndex: import("@prisma/client/runtime/library").Decimal;
        installationDate: Date;
        status: import("@prisma/client").$Enums.MeterStatus;
        valveStatus: import("@prisma/client").$Enums.ValveStatus;
        lastReadingValue: import("@prisma/client/runtime/library").Decimal | null;
        lastReadingTime: Date | null;
        metadata: import("@prisma/client/runtime/library").JsonValue | null;
        subscriptionId: string | null;
    }>;
    findAll(query: MeterQueryDto, user: AuthenticatedUser): Promise<import("../../../common/interfaces").PaginatedResult<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        tenantId: string;
        meterProfileId: string;
        activeDeviceId: string | null;
        serialNumber: string;
        initialIndex: import("@prisma/client/runtime/library").Decimal;
        installationDate: Date;
        status: import("@prisma/client").$Enums.MeterStatus;
        valveStatus: import("@prisma/client").$Enums.ValveStatus;
        lastReadingValue: import("@prisma/client/runtime/library").Decimal | null;
        lastReadingTime: Date | null;
        metadata: import("@prisma/client/runtime/library").JsonValue | null;
        subscriptionId: string | null;
    }>>;
    exportMeters(query: ExportQueryDto, user: AuthenticatedUser): Promise<import("../../../common/interfaces").PaginatedResult<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        tenantId: string;
        meterProfileId: string;
        activeDeviceId: string | null;
        serialNumber: string;
        initialIndex: import("@prisma/client/runtime/library").Decimal;
        installationDate: Date;
        status: import("@prisma/client").$Enums.MeterStatus;
        valveStatus: import("@prisma/client").$Enums.ValveStatus;
        lastReadingValue: import("@prisma/client/runtime/library").Decimal | null;
        lastReadingTime: Date | null;
        metadata: import("@prisma/client/runtime/library").JsonValue | null;
        subscriptionId: string | null;
    }>>;
    bulkImport(dto: BulkImportMetersDto, user: AuthenticatedUser): Promise<{
        success: boolean;
        totalRows: number;
        importedRows: number;
        failedRows: number;
        errors: Array<{
            row: number;
            field: string;
            message: string;
        }>;
    }>;
    findOne(id: string, user: AuthenticatedUser): Promise<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        tenantId: string;
        meterProfileId: string;
        activeDeviceId: string | null;
        serialNumber: string;
        initialIndex: import("@prisma/client/runtime/library").Decimal;
        installationDate: Date;
        status: import("@prisma/client").$Enums.MeterStatus;
        valveStatus: import("@prisma/client").$Enums.ValveStatus;
        lastReadingValue: import("@prisma/client/runtime/library").Decimal | null;
        lastReadingTime: Date | null;
        metadata: import("@prisma/client/runtime/library").JsonValue | null;
        subscriptionId: string | null;
    }>;
    getReadingHistory(id: string, days: number, user: AuthenticatedUser): Promise<{
        bucket: Date;
        total_consumption: number;
        avg_consumption: number;
        reading_count: number;
    }[]>;
    update(id: string, dto: UpdateMeterDto, user: AuthenticatedUser): Promise<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        tenantId: string;
        meterProfileId: string;
        activeDeviceId: string | null;
        serialNumber: string;
        initialIndex: import("@prisma/client/runtime/library").Decimal;
        installationDate: Date;
        status: import("@prisma/client").$Enums.MeterStatus;
        valveStatus: import("@prisma/client").$Enums.ValveStatus;
        lastReadingValue: import("@prisma/client/runtime/library").Decimal | null;
        lastReadingTime: Date | null;
        metadata: import("@prisma/client/runtime/library").JsonValue | null;
        subscriptionId: string | null;
    }>;
    patch(id: string, dto: UpdateMeterDto, user: AuthenticatedUser): Promise<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        tenantId: string;
        meterProfileId: string;
        activeDeviceId: string | null;
        serialNumber: string;
        initialIndex: import("@prisma/client/runtime/library").Decimal;
        installationDate: Date;
        status: import("@prisma/client").$Enums.MeterStatus;
        valveStatus: import("@prisma/client").$Enums.ValveStatus;
        lastReadingValue: import("@prisma/client/runtime/library").Decimal | null;
        lastReadingTime: Date | null;
        metadata: import("@prisma/client/runtime/library").JsonValue | null;
        subscriptionId: string | null;
    }>;
    linkSubscription(id: string, dto: LinkSubscriptionDto, user: AuthenticatedUser): Promise<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        tenantId: string;
        meterProfileId: string;
        activeDeviceId: string | null;
        serialNumber: string;
        initialIndex: import("@prisma/client/runtime/library").Decimal;
        installationDate: Date;
        status: import("@prisma/client").$Enums.MeterStatus;
        valveStatus: import("@prisma/client").$Enums.ValveStatus;
        lastReadingValue: import("@prisma/client/runtime/library").Decimal | null;
        lastReadingTime: Date | null;
        metadata: import("@prisma/client/runtime/library").JsonValue | null;
        subscriptionId: string | null;
    }>;
    unlinkSubscription(id: string, user: AuthenticatedUser): Promise<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        tenantId: string;
        meterProfileId: string;
        activeDeviceId: string | null;
        serialNumber: string;
        initialIndex: import("@prisma/client/runtime/library").Decimal;
        installationDate: Date;
        status: import("@prisma/client").$Enums.MeterStatus;
        valveStatus: import("@prisma/client").$Enums.ValveStatus;
        lastReadingValue: import("@prisma/client/runtime/library").Decimal | null;
        lastReadingTime: Date | null;
        metadata: import("@prisma/client/runtime/library").JsonValue | null;
        subscriptionId: string | null;
    }>;
    linkModule(id: string, dto: LinkDeviceDto, user: AuthenticatedUser): Promise<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        tenantId: string;
        meterProfileId: string;
        activeDeviceId: string | null;
        serialNumber: string;
        initialIndex: import("@prisma/client/runtime/library").Decimal;
        installationDate: Date;
        status: import("@prisma/client").$Enums.MeterStatus;
        valveStatus: import("@prisma/client").$Enums.ValveStatus;
        lastReadingValue: import("@prisma/client/runtime/library").Decimal | null;
        lastReadingTime: Date | null;
        metadata: import("@prisma/client/runtime/library").JsonValue | null;
        subscriptionId: string | null;
    }>;
    unlinkModule(id: string, dto: UnlinkDeviceDto, user: AuthenticatedUser): Promise<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        tenantId: string;
        meterProfileId: string;
        activeDeviceId: string | null;
        serialNumber: string;
        initialIndex: import("@prisma/client/runtime/library").Decimal;
        installationDate: Date;
        status: import("@prisma/client").$Enums.MeterStatus;
        valveStatus: import("@prisma/client").$Enums.ValveStatus;
        lastReadingValue: import("@prisma/client/runtime/library").Decimal | null;
        lastReadingTime: Date | null;
        metadata: import("@prisma/client/runtime/library").JsonValue | null;
        subscriptionId: string | null;
    }>;
    controlValve(id: string, dto: ControlValveDto, user: AuthenticatedUser): Promise<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        tenantId: string;
        meterProfileId: string;
        activeDeviceId: string | null;
        serialNumber: string;
        initialIndex: import("@prisma/client/runtime/library").Decimal;
        installationDate: Date;
        status: import("@prisma/client").$Enums.MeterStatus;
        valveStatus: import("@prisma/client").$Enums.ValveStatus;
        lastReadingValue: import("@prisma/client/runtime/library").Decimal | null;
        lastReadingTime: Date | null;
        metadata: import("@prisma/client/runtime/library").JsonValue | null;
        subscriptionId: string | null;
    }>;
    delete(id: string, user: AuthenticatedUser): Promise<void>;
}
